import{a as ae,a1 as $,Z as z,ax as ee,a4 as se,u as le,i as de,r as ue,ay as ce,a5 as te,d as m,a9 as pe,aa as oe,ab as he,h as G,k as J,a6 as fe,w as H,E as A,ac as Z,ah as ge,ai as ye,az as W,aA as ve,l as V,j as O,H as me,n as be,aq as re,ad as Pe,as as Fe,aj as Ce,b as Se,aB as Te,F as Ae,e as S,p as T,q as g,R as Oe,s as Qe,f as Ie,at as Re,aC as De,ak as ke}from"./index-26b02238.js";import{p as Ne,o as xe}from"./omitBy-3dd39612.js";var _e=["selectedChange","columnSort","columnFilter","columnSearch","columnToggled","orderChange","rowClick","rowDbClick","rowMouseEnter","rowMouseLeave","selected"],Me=function(Q){ae(l,Q);function l(e){var t=Q.call(this,e)||this;t.stopingAutoRefresh=!1;var r=e.location,a=e.store,n=e.syncLocation,i=e.pageField,s=e.perPageField;e.parsePrimitiveQuery;var o=t.getParseQueryOptions(e);t.mounted=!0,n&&r&&(r.query||r.search)?a.updateQuery($(r,o),void 0,i,s):n&&!r&&window.location.search&&a.updateQuery($(window.location,o),void 0,i,s),t.props.api&&t.props.store.updateData({items:[]});var d=e.mode,p=e.columns;return d==="table2"&&p&&a.updateColumns(p),t}return l.prototype.componentDidMount=function(){var e=this.props,t=e.store,r=e.pickerMode,a=e.loadType,n=e.loadDataOnce,i=e.maxLoadNum,s=a&&!n;if(s){var o=a==="more"?this.props.perPage||10:this.getPaginationPerPage();t.changePage(t.page,o)}else a||t.changePage(1,i||500);if(this.initQuery({}),r){var d=z(this.props);d&&t.setSelectedItems(d)}},l.prototype.componentDidUpdate=function(e){var t,r=this.props,a=e.store;r.parsePrimitiveQuery,e.columns!==r.columns&&a.updateColumns(r.columns);var n;this.props.pickerMode&&ee(n=z(this.props),z(e))&&a.setSelectedItems(n);var i=!1;if(e.syncLocation&&e.location&&e.location.search!==r.location.search&&(a.updateQuery($(r.location,this.getParseQueryOptions(r)),void 0,r.pageField,r.perPageField),i=!!(r.api&&se(a.query,this.lastQuery,!1))),!i){if(e.api&&r.api&&le(e.api,r.api,a.fetchCtxOf(e.data,{pageField:e.pageField,perPageField:e.perPageField}),a.fetchCtxOf(r.data,{pageField:r.pageField,perPageField:r.perPageField})))i=!0;else if(!r.api&&de(r.source)){var s=ue(r.source,r.data,"| raw");(!this.lastData||this.lastData!==s)&&(a.initFromScope(r.data,r.source,{columns:(t=a.columns)!==null&&t!==void 0?t:r.columns}),this.lastData=s)}}i&&this.getData()},l.prototype.componentWillUnmount=function(){this.mounted=!1,clearTimeout(this.timer)},l.prototype.getPaginationPerPage=function(){var e=10,t=this.props,r=t.headerToolbar,a=t.footerToolbar;return ce({headerToolbar:r,footerToolbar:a},function(n,i,s){i==="type"&&n==="pagination"&&!isNaN(s==null?void 0:s.perPage)&&(e=+s.perPage)}),e},l.prototype.getParseQueryOptions=function(e){var t,r=e.parsePrimitiveQuery,a={parsePrimitive:!!(te(r)?r!=null&&r.enable:r),primitiveTypes:(t=r==null?void 0:r.types)!==null&&t!==void 0?t:["boolean"]};return a},l.prototype.controlRef=function(e){for(;e&&e.getWrappedInstance;)e=e.getWrappedInstance();this.control=e},l.prototype.initQuery=function(e){var t=this.props,r=t.store,a=t.orderBy,n=t.orderDir,i=t.loadType,s={};a&&(s.orderBy=a,s.orderDir=n||"asc"),this.handleSearch({query:m(m(m({},s),e),r.query),replaceQuery:this.props.initFetch!==!1,loadMore:i==="more",resetPage:!1}),r.setPristineQuery()},l.prototype.handleLoadMore=function(){var e=this.props,t=e.store,r=e.perPage,a=r===void 0?10:r;t.changePage(t.page+1,a),this.getData(void 0,void 0,void 0,!0)},l.prototype.handleSearch=function(e){var t,r,a=this.props,n=a.store,i=a.syncLocation,s=a.env,o=a.pageField,d=a.perPageField,p=a.parsePrimitiveQuery,c=this.getParseQueryOptions(this.props),f=e||{},u=f.query,h=f.resetQuery,y=f.replaceQuery,b=f.loadMore,v=f.resetPage;u=m(m({},u),Ne((r=(t=u==null?void 0:u.__super)===null||t===void 0?void 0:t.diff)!==null&&r!==void 0?r:{},function(C){return C===void 0})),u=i?pe(oe(u,void 0,!0)):u,p&&(u=he(u,c)),n.updateQuery(h?m(m({},u),this.props.store.pristineQuery):u,i&&s&&s.updateLocation?function(C){return s.updateLocation(C,!0)}:void 0,o,d,y),v&&n.changePage(1),this.lastQuery=n.query,this.getData(void 0,void 0,void 0,b??!1)},l.prototype.handleStopAutoRefresh=function(){this.timer&&clearTimeout(this.timer),this.stopingAutoRefresh=!0},l.prototype.handleStartAutoRefresh=function(){this.stopingAutoRefresh=!1,this.reload()},l.prototype.reloadTarget=function(e,t){},l.prototype.closeTarget=function(e){},l.prototype.updateQuery=function(e){this.props.store},l.prototype.getData=function(e,t,r,a){var n,i,s;return r===void 0&&(r=!1),G(this,void 0,void 0,function(){var o,d,p,c,f,u,h,y,b,v,C,I,P,F,R,x,B,_,E,M,L;return J(this,function(q){switch(q.label){case 0:return o=this.props,d=o.store,p=o.api,c=o.messages,f=o.pageField,u=o.perPageField,h=o.interval,y=o.stopAutoRefreshWhen,b=o.silentPolling,o.syncLocation,v=o.syncResponse2Query,C=o.keepItemSelectionOnPageChange,I=o.stopAutoRefreshWhenModalIsOpen,P=o.pickerMode,o.env,F=o.loadType,R=o.loadDataOnce,x=o.source,B=o.columns,_=o.perPage,!a&&C&&t&&!P&&(d.setSelectedItems([]),d.setUnSelectedItems([])),clearTimeout(this.timer),this.lastQuery=d.query,E=a??F==="more",M=A(d.data,d.query),E&&_&&d.changePerPage(_),H(p,M)?[4,d.fetchInitData(p,M,{successMessage:c&&c.fetchSuccess,errorMessage:c&&c.fetchFailed,autoAppend:!0,forceReload:r,loadDataOnce:R,source:x,silent:e,pageField:f,perPageField:u,loadDataMode:E,syncResponse2Query:v,columns:(n=d.columns)!==null&&n!==void 0?n:B,isTable2:!0})]:[3,2];case 1:return L=q.sent(),L!=null&&L.ok&&h&&!this.stopingAutoRefresh&&this.mounted&&(!y||!(y&&ke(y,A(d.data,d.query))))&&(!I||!d.dialogOpen&&!(!((i=d==null?void 0:d.parentStore)===null||i===void 0)&&i.dialogOpen))&&(this.timer=setTimeout(this.getData.bind(this,b,void 0,!0),Math.max(h,1e3))),[3,3];case 2:x&&d.initFromScope(M,x,{columns:(s=d.columns)!==null&&s!==void 0?s:B}),q.label=3;case 3:return[2,d.data]}})})},l.prototype.handleChangePage=function(e,t){var r,a=this.props,n=a.store,i=a.syncLocation,s=a.env,o=a.pageField,d=a.perPageField,p=a.autoJumpToTopOnPagerChange,c=(r={},r[o||"page"]=e,r);if(t&&(c[d||"perPage"]=t),n.updateQuery(c,i&&(s!=null&&s.updateLocation)?s.updateLocation:void 0,o,d),n.changePage(e,t),this.getData(),p&&this.control){fe.findDOMNode(this.control).scrollIntoView();var f=window.scrollY;f&&window.scroll(0,f)}},l.prototype.handleSave=function(e,t,r,a,n,i){var s=this,o=this.props,d=o.store,p=o.quickSaveApi,c=o.quickSaveItemApi,f=o.primaryField,u=o.env,h=o.messages,y=o.reload;if(Array.isArray(e)){if(!H(p)){u&&u.alert("CRUD quickSaveApi is required");return}var b=A(d.data,{rows:e,rowsDiff:t,indexes:r,rowsOrigin:n});e.length&&e[0].hasOwnProperty(f||"id")&&(b.ids=e.map(function(I){return I[f||"id"]}).join(",")),a&&(b.unModifiedItems=a),d.saveRemote(p,b,{successMessage:h&&h.saveFailed,errorMessage:h&&h.saveSuccess}).then(function(){y&&s.reloadTarget(Z(y,b),b),s.getData(void 0,void 0,!0)}).catch(function(){})}else{if(!H(c)){u&&u.alert("CRUD quickSaveItemApi is required!");return}var v=A(d.data,{item:e,modified:t,origin:n}),C=A(v,e);d.saveRemote(c,C).then(function(){y&&s.reloadTarget(Z(y,v),v),s.getData(void 0,void 0,!0)}).catch(function(){i!=null&&i.resetOnFailed&&s.control.reset()})}},l.prototype.handleSaveOrder=function(e,t){var r=this,a=this.props,n=a.store,i=a.saveOrderApi,s=a.orderField,o=a.primaryField,d=a.env,p=a.reload;if(!i){d&&d.alert("CRUD saveOrderApi is required!");return}var c=A(n.data),f,u,h=[],y=o&&t[0]&&t[0].hasOwnProperty(o);if(y||(c.idMap={}),c.insertAfter={},t.forEach(function(P){if(~e.indexOf(P))if(f){var F=y?f[o]:t.indexOf(f);c.insertAfter[F]=c.insertAfter[F]||[],y||(c.idMap[F]=f),c.insertAfter[F].push(y?P[o]:P)}else h.push(P);else f=P,u=u||P}),u&&h.length){var b=y?u[o]:t.indexOf(u);y||(c.idMap[b]=u),c.insertBefore={},c.insertBefore[b]=h.map(function(P){return y?P[o]:P})}else if(h.length){var v=h[0],C=y?v[o]:t.indexOf(v);y||(c.idMap[C]=v),c.insertAfter[C]=h.slice(1).map(function(P){return y?P[o]:P})}if(s){var I=(n.page-1)*n.perPage||0;t=t.map(function(P,F){var R;return ge(P,(R={},R[s]=I+F+1,R))})}c.rows=t.concat(),y&&(c.ids=t.map(function(P){return P[o]}).join(",")),y&&s&&(c.order=t.map(function(P){return ye(P,[o,s])})),H(i,c)&&n.saveRemote(i,c).then(function(){p&&r.reloadTarget(Z(p,c),c),r.getData(void 0,void 0,!0)}).catch(function(){})},l.prototype.handleSelect=function(e,t){var r=this.props,a=r.store,n=r.keepItemSelectionOnPageChange,i=r.primaryField,s=r.multiple,o=r.pickerMode,d=r.onSelect,p=e,c=t;if(ee(a.selectedItemsAsArray,p)){if(n&&a.selectedItems.length){var f=a.selectedItems.concat(),u=a.unSelectedItems.concat();e.forEach(function(h){var y=W(f,function(v){return v===h||v[i||"id"]&&v[i||"id"]==h[i||"id"]});~y?f[y]=h:f.push(h);var b=W(u,function(v){return v===h||v[i||"id"]&&v[i||"id"]==h[i||"id"]});~b&&u.splice(b,1)}),t.forEach(function(h){var y=W(u,function(v){return v===h||v[i||"id"]&&v[i||"id"]==h[i||"id"]}),b=W(f,function(v){return v===h||v[i||"id"]&&v[i||"id"]==h[i||"id"]});~y?u[y]=h:u.push(h),!~y&&~b&&f.splice(b,1)}),p=f,c=u}o&&s===!1&&p.length>1&&c.push.apply(c,p.splice(0,p.length-1)),a.setSelectedItems(p),a.setUnSelectedItems(c),d&&d(p)}},l.prototype.handleQuerySearch=function(e,t){var r;t===void 0&&(t=!1);var a=this.props,n=a.store,i=a.syncLocation,s=a.env,o=a.pageField,d=a.perPageField;return n.updateQuery(m(m({},e),(r={},r[o||"page"]=1,r)),i&&s&&s.updateLocation?s.updateLocation:void 0,o,d),this.getData(void 0,void 0,t)},l.prototype.reload=function(e,t){return t?this.receive(t):this.getData(void 0,void 0,!0)},l.prototype.receive=function(e){return this.handleQuerySearch(e,!0)},l.prototype.doAction=function(e,t,r){if(e.actionType&&["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(e.actionType))return this["handle".concat(ve(e.actionType))](t)},l.prototype.handleAction=function(e,t,r,a,n){return a===void 0&&(a=!1),["stopAutoRefresh","reload","search","startAutoRefresh","loadMore"].includes(t.actionType)?this.doAction(t,r,a):this.props.onAction(e,t,r,a,n||this.context)},l.prototype.unSelectItem=function(e,t){var r=this.props.store,a=r.selectedItems.concat(),n=r.unSelectedItems.concat(),i=a.indexOf(e);~i&&n.push.apply(n,a.splice(i,1)),r.setSelectedItems(a),r.setUnSelectedItems(n)},l.prototype.clearSelection=function(){var e=this.props.store,t=e.selectedItems.concat(),r=e.unSelectedItems.concat();e.setSelectedItems([]),e.setUnSelectedItems(r.concat(t))},l.prototype.toggleAllColumns=function(e){var t=this.props.store;t.updateColumns(t.columns.map(function(r){return m(m({},r),{toggled:e})}))},l.prototype.toggleToggle=function(e){var t=this.props.store,r=t.columns[e],a=r.toggled;t.updateColumns(t.columns.map(function(n,i){return m(m({},n),{toggled:e===i?!a:n.toggled!==!1})}))},l.prototype.handlePullRefresh=function(){return G(this,void 0,void 0,function(){var e,t,r,a;return J(this,function(n){switch(n.label){case 0:return e=this.props,t=e.dispatchEvent,r=e.data,[4,t("pullRefresh",r)];case 1:return a=n.sent(),a!=null&&a.prevented?[2]:(this.handleLoadMore(),[2])}})})},l.prototype.renderChild=function(e,t,r){r===void 0&&(r={});var a=this.props,n=a.render,i=a.store,s=a.primaryField,o=s===void 0?"id":s,d,p=i.selectedItems,c=i.unSelectedItems,f=i.items;/^filter/.test(e)?d=A(A(i.filterData,i.getData(this.props.data)),{}):d=A(i.mergedData,{items:f.concat(),selectedItems:p.concat(),unSelectedItems:c.concat(),ids:p.map(function(h){return h.hasOwnProperty(o)?h[o]:null}).filter(function(h){return h}).join(",")});var u={activePage:i.page,lastPage:i.lastPage,perPage:i.perPage,total:i.total,onPageChange:this.handleChangePage,cols:i.columns,toggleAllColumns:this.toggleAllColumns,toggleToggle:this.toggleToggle,onQuery:this.handleQuerySearch};return t.type,n(e,t,m(m({data:d},r),u))},l.prototype.renderToolbar=function(e,t){var r=this;return t?(t=[].concat(t),t.map(function(a,n){return r.renderChild("".concat(e,"/").concat(n),a,{key:n+""})})):null},l.prototype.renderFilter=function(e){var t=this;if(!e||Array.isArray(e)&&e.length===0)return null;var r=Array.isArray(e)?e:te(e)&&e.type!=null?[e]:[];return r.length<1?null:r.map(function(a,n){return t.renderChild("filter/".concat(n),a,m({key:n+"filter",data:t.props.store.filterData,onSubmit:function(i){return t.handleSearch({query:i,resetPage:!0})},onReset:function(i){var s={};Object.keys(i).forEach(function(o){return s[o]=""}),t.handleSearch({query:s,resetQuery:!0,replaceQuery:!0,resetPage:!0})}},t.props.mobileUI?{columnCount:1,mode:"normal",collapsible:!0,title:{type:"container",body:[{type:"icon",icon:"column-filter",className:"icon mr-2"},a.title||""]}}:{}))})},l.prototype.renderSelection=function(){var e=this,t=this.props,r=t.store,a=t.classnames,n=t.labelField,i=t.labelTpl,s=t.primaryField,o=t.translate,d=t.env;return r.selectedItems.length?V("div",{className:a("Crud-selection"),children:[O("div",{className:a("Crud-selectionLabel"),children:o("CRUD.selected",{total:r.selectedItems.length})}),r.selectedItems.map(function(p,c){return V("div",{className:a("Crud-value"),children:[O("span",{"data-tooltip":o("delete"),"data-position":"bottom",className:a("Crud-valueIcon"),onClick:e.unSelectItem.bind(e,p,c),children:"×"}),O("span",{className:a("Crud-valueLabel"),children:i?O(me,{html:be(i,p),filterHtml:d.filterHtml}):re(p,n||"label")||re(p,s||"id")})]},c)}),O("a",{onClick:this.clearSelection.bind(this),className:a("Crud-selectionClear"),children:o("clear")})]}):null},l.prototype.transformTable2cards=function(){for(var e,t=this.props,r=t.store,a=t.columns,n=t.card,i=t.mobileMode,s=[],o=i.fieldCount||4,d=[],p="",c=((e=r.columns)!==null&&e!==void 0?e:a)||[],f=0;f<c.length;f++){var u=c[f];if(Pe(u))if(u.type==="operation")d.push.apply(d,Fe([],Ce((u==null?void 0:u.buttons)||[]),!1));else if(u.type==="button"&&u.name==="operation")d.push(u);else{if(!u.label&&u.title&&(u.label=u.title),u.type==="static-image"&&!p){p="${".concat(u.name,"}");continue}s.length<o&&(u.type==="static-image"&&u.title&&delete u.title,s.push(u))}}return s.length?{columnsCount:1,type:"cards",card:m(m(m({},n),{body:s,actions:d}),p?{media:{type:"image",url:p,position:"right",className:""},mediaActionPosition:"outside"}:{})}:null},l.prototype.transMobileHeaderToolbar=function(e,t){var r=0,a={},n={},i=null;function s(o,d){Array.isArray(o)?o.forEach(function(p){return s(p,d)}):o&&typeof o=="object"&&(o.type==="button"?(r++,o.label==="新增"&&(a=o,n=d)):o.type==="search-box"&&(i=o),(o.items||o.body)&&s(o.items||o.body,o))}e.forEach(function(o){s(o)}),r===1&&a&&(a.label="",a.icon="plus",a.className||(a.className=""),a.className+=" is-fixed-right-bottom",n&&(n.className||(n.className=""),n.className+=" is-fixed-right-bottom-wrapper")),i&&(r===0||r===1&&a)&&De(this.props.filterSchema)&&t()},l.prototype.render=function(){var e=this.props,t=e.columns,r=e.className,a=e.style,n=e.bodyClassName,i=e.filter,s=e.render,o=e.store,d=e.mode,p=d===void 0?"table2":d;e.syncLocation,e.children,e.bulkActions;var c=e.pickerMode,f=e.selectable,u=e.multiple;e.valueField;var h=e.primaryField;e.value,e.hideQuickSaveBtn;var y=e.itemActions,b=e.classnames,v=e.keepItemSelectionOnPageChange,C=e.maxKeepItemSelectionLength,I=e.onEvent;e.onAction;var P=e.popOverContainer,F=e.translate;e.onQuery;var R=e.autoGenerateFilter;e.onSelect;var x=e.autoFillHeight,B=e.showSelection,_=e.headerToolbar,E=e.footerToolbar;e.columnsTogglable;var M=e.headerToolbarClassName,L=e.footerToolbarClassName,q=e.id,k=e.testIdBuilder,N=e.mobileMode,K=e.mobileUI,w=e.pullRefresh,ie=Se(e,["columns","className","style","bodyClassName","filter","render","store","mode","syncLocation","children","bulkActions","pickerMode","selectable","multiple","valueField","primaryField","value","hideQuickSaveBtn","itemActions","classnames","keepItemSelectionOnPageChange","maxKeepItemSelectionLength","onEvent","onAction","popOverContainer","translate","onQuery","autoGenerateFilter","onSelect","autoFillHeight","showSelection","headerToolbar","footerToolbar","columnsTogglable","headerToolbarClassName","footerToolbarClassName","id","testIdBuilder","mobileMode","mobileUI","pullRefresh"]),U,X=!1,D=null;if(N&&K&&p.includes("table")){var j=this.transformTable2cards();typeof N=="string"&&N==="cards"?j&&(D=j):typeof N=="object"&&(D=m(m(m({},j),N),{card:m(m({},j==null?void 0:j.card),N.card)})),D&&this.transMobileHeaderToolbar(_,function(){X=!0}),D&&!(w!=null&&w.disabled)&&(U=m(m({normalText:F("pullRefresh.crud2NormalText"),pullingText:F("pullRefresh.crud2PullingText"),loosingText:F("pullRefresh.crud2LoosingText")},w),{disabled:!1}))}else U=w;var Y=s("body",m(m(m({},ie),{onEvent:xe(I,function(Le,ne){return!_e.includes(ne)}),type:p,columns:p.startsWith("table")?o.columns||t:void 0,id:q}),D),{key:"body",className:b("Crud2-body",n),ref:this.controlRef,autoGenerateFilter:!i&&R,autoFillHeight:x,checkAll:!1,selectable:!!(f??c),itemActions:y,multiple:u,columnsTogglable:!1,selected:c||v?o.selectedItemsAsArray:void 0,keepItemSelectionOnPageChange:v,maxKeepItemSelectionLength:C,primaryField:h,testIdBuilder:k,items:o.data.items,query:o.query,orderBy:o.query.orderBy,orderDir:o.query.orderDir,popOverContainer:P,onSave:this.handleSave.bind(this),onSaveOrder:this.handleSaveOrder,onSearch:this.handleQuerySearch,onSort:this.handleQuerySearch,onSelect:this.handleSelect,onAction:this.handleAction,data:o.mergedData,loading:o.loading,host:this});return V("div",{...m({className:b("Crud2",r,{"is-loading":o.loading,"is-mobile":K,"is-mobile-cards":N==="cards"||(D==null?void 0:D.type)==="cards"}),style:a,"data-id":q,"data-role":"container"},k==null?void 0:k.getTestId()),children:[O("div",{...m({className:b("Crud2-filter")},k==null?void 0:k.getChild("filter").getTestId()),children:this.renderFilter(i)}),O("div",{className:b("Crud2-toolbar","Crud2-header-toolbar",M,{"is-sticky":X}),children:this.renderToolbar("headerToolbar",_)}),B&&v&&u!==!1?this.renderSelection():null,K&&U&&!U.disabled?O(Te,{...m({},U,{translate:F,onRefresh:this.handlePullRefresh,direction:"up",loading:o.loading,completed:!o.loading&&o.lastPage>0&&o.page>=o.lastPage,completedText:o.total>0?void 0:""}),children:Y}):V(Ae,{children:[Y,O("div",{className:b("Crud2-toolbar","Crud2-footer-toolbar",L),children:this.renderToolbar("footerToolbar",E)})]})]})},l.propsList=["mode","syncLocation","value","multiple","valueField","pageField","perPageField","hideQuickSaveBtn","autoJumpToTopOnPagerChange","interval","silentPolling","stopAutoRefreshWhen","stopAutoRefreshWhenModalIsOpen","api","headerToolbar","footerToolbar","autoGenerateFilter","syncResponse2Query","keepItemSelectionOnPageChange","source","onChange","onInit","onSaved","onQuery","autoFillHeight","showSelection","headerToolbarClassName","footerToolbarClassName","primaryField","parsePrimitiveQuery"],l.defaultProps={toolbarInline:!0,syncLocation:!0,hideQuickSaveBtn:!1,autoJumpToTopOnPagerChange:!0,silentPolling:!1,autoFillHeight:!1,showSelection:!0,primaryField:"id",parsePrimitiveQuery:!0},S([T,g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],l.prototype,"getPaginationPerPage",null),S([T,g("design:type",Function),g("design:paramtypes",[Object]),g("design:returntype",void 0)],l.prototype,"controlRef",null),S([T,g("design:type",Function),g("design:paramtypes",[Number,Number]),g("design:returntype",void 0)],l.prototype,"handleChangePage",null),S([T,g("design:type",Function),g("design:paramtypes",[Array,Array]),g("design:returntype",void 0)],l.prototype,"handleSaveOrder",null),S([T,g("design:type",Function),g("design:paramtypes",[Array,Array]),g("design:returntype",void 0)],l.prototype,"handleSelect",null),S([T,g("design:type",Function),g("design:paramtypes",[Object,Boolean]),g("design:returntype",void 0)],l.prototype,"handleQuerySearch",null),S([T,g("design:type",Function),g("design:paramtypes",[Object,Object,Boolean]),g("design:returntype",void 0)],l.prototype,"doAction",null),S([T,g("design:type",Function),g("design:paramtypes",[Object,Object,Object,Boolean,Object]),g("design:returntype",void 0)],l.prototype,"handleAction",null),S([T,g("design:type",Function),g("design:paramtypes",[Boolean]),g("design:returntype",void 0)],l.prototype,"toggleAllColumns",null),S([T,g("design:type",Function),g("design:paramtypes",[Number]),g("design:returntype",void 0)],l.prototype,"toggleToggle",null),S([T,g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],l.prototype,"handlePullRefresh",null),S([T,g("design:type",Function),g("design:paramtypes",[String,Object,Object]),g("design:returntype",void 0)],l.prototype,"renderChild",null),l}(Oe.Component),Be=function(Q){ae(l,Q);function l(e,t){var r=Q.call(this,e)||this,a=t;return a.registerComponent(r),r}return l.prototype.componentWillUnmount=function(){Q.prototype.componentWillUnmount.call(this);var e=this.context;e.unRegisterComponent(this)},l.prototype.reload=function(e,t,r){return G(this,void 0,void 0,function(){var a;return J(this,function(n){return a=this.context,e?[2,a.reload(t?"".concat(e,"?").concat(oe(t)):e,r)]:[2,Q.prototype.reload.call(this,e,t)]})})},l.prototype.receive=function(e,t){return G(this,void 0,void 0,function(){var r;return J(this,function(a){return r=this.context,t?[2,r.send(t,e)]:[2,Q.prototype.receive.call(this,e)]})})},l.prototype.reloadTarget=function(e,t){var r=this.context;r.reload(e,t)},l.prototype.closeTarget=function(e){var t=this.context;t.close(e)},l.contextType=Qe,l=S([Ie({type:"crud2",storeType:Re.name,isolateScope:!0}),g("design:paramtypes",[Object,Object])],l),l}(Me);export{Be as CRUD2Renderer,Me as default};

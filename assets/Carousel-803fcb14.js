import{dH as R,dI as P,dJ as V,a as te,R as F,Z as U,ax as ge,r as ye,h as $,k as z,j as d,l as H,I as O,d as v,aj as we,dK as Se,dL as Q,U as I,V as xe,e as c,p as m,q as o,s as Ce,f as Te,E as j,b as Ee,a5 as Me,F as Ne,cS as be,H as Ae}from"./index-26b02238.js";var b,Le=(b={},b[R]="in",b[P]="in",b[V]="out",b),_e={component:function(h){var n,e,r=h.data||{},t=h.thumbMode,i=h.classnames;return d(Ne,{children:r.hasOwnProperty("image")?d(be,{src:r.image,title:r.title,href:r.href,blank:r.blank,htmlTarget:r.htmlTarget,caption:r.description,thumbMode:(e=(n=r.thumbMode)!==null&&n!==void 0?n:t)!==null&&e!==void 0?e:"contain",imageMode:"original",className:i("Carousel-image")}):r.hasOwnProperty("html")?d(Ae,{html:r.html,filterHtml:h.env.filterHtml}):r.hasOwnProperty("item")?d("span",{children:r.item}):d("p",{})})}},ee=20,Fe=function(h){te(n,h);function n(){var e=h!==null&&h.apply(this,arguments)||this;return e.wrapperRef=F.createRef(),e.state={current:0,options:e.props.options||U(e.props)||[],nextAnimation:"",mouseStartLocation:null},e.loading=!1,e}return n.prototype.componentDidMount=function(){this.prepareAutoSlide()},n.prototype.componentDidUpdate=function(e){var r=this.props,t=r.options||U(r)||[],i=e.options||U(e)||[];ge(i,t)&&this.setState({options:t})},n.prototype.componentWillUnmount=function(){this.clearAutoTimeout()},n.prototype.doAction=function(e,r,t,i){var a=e==null?void 0:e.actionType;~["next","prev"].indexOf(a)?this.autoSlide(a):a==="goto-image"&&this.changeSlide((i==null?void 0:i.activeIndex)-1)},n.prototype.prepareAutoSlide=function(){if(!(this.state.options.length<2)&&(this.clearAutoTimeout(),this.props.auto)){var e=this.props.interval;this.intervalTimeout=setTimeout(this.autoSlide,typeof e=="string"?ye(e,this.props.data)||5e3:e)}},n.prototype.autoSlide=function(e){this.clearAutoTimeout();var r=this.props.animation,t=this.state.nextAnimation;switch(e){case"prev":r==="slide"?t="slideRight":t="",this.transitFramesTowards("right",t);break;case"next":default:t="",this.transitFramesTowards("left",t);break}this.durationTimeout=setTimeout(this.prepareAutoSlide,this.props.duration)},n.prototype.transitFramesTowards=function(e,r){return $(this,void 0,void 0,function(){var t,i,a,s,l,u;return z(this,function(f){switch(f.label){case 0:if(t=this.state.current,i=t,this.props.loop===!1&&(t===0&&e==="right"||t===this.state.options.length-1&&e==="left"))return[2];switch(e){case"left":t=this.getFrameId("next");break;case"right":t=this.getFrameId("prev");break}return a=this.props,s=a.dispatchEvent,l=a.data,[4,s("change",j(l,{activeIndex:t+1,prevIndex:i}))];case 1:return u=f.sent(),u!=null&&u.prevented?[2]:(this.setState({current:t,nextAnimation:r}),[2])}})})},n.prototype.getFrameId=function(e){var r=this.state,t=r.options,i=r.current,a=t.length;switch(e){case"prev":return(i-1+a)%a;case"next":return(i+1)%a;default:return i}},n.prototype.next=function(){var e=this.props.multiple;this.loading&&e&&e.count>1||this.autoSlide("next")},n.prototype.prev=function(){var e=this.props.multiple;this.loading&&e&&e.count>1||this.autoSlide("prev")},n.prototype.clearAutoTimeout=function(){clearTimeout(this.intervalTimeout),clearTimeout(this.durationTimeout)},n.prototype.changeSlide=function(e){return $(this,void 0,void 0,function(){var r,t,i,a,s,l;return z(this,function(u){switch(u.label){case 0:return r=this.state.current,t=this.props,i=t.dispatchEvent,a=t.data,s=t.multiple,this.loading&&s&&s.count>1?[2]:[4,i("change",j(a,{activeIndex:e,prevIndex:r}))];case 1:return l=u.sent(),l!=null&&l.prevented?[2]:(this.setState({current:e}),[2])}})})},n.prototype.renderDots=function(){var e=this,r=this.props.classnames,t=this.state,i=t.current,a=t.options;return d("div",{className:r("Carousel-dotsControl"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:Array.from({length:a.length}).map(function(s,l){return d("span",{onClick:function(){return e.changeSlide(l)},className:r("Carousel-dot",i===l?"is-active":"")},l)})})},n.prototype.renderArrows=function(){var e=this.props.classnames;return H("div",{className:e("Carousel-arrowsControl"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[d("div",{className:e("Carousel-leftArrow"),onClick:this.prev,children:d(O,{icon:"left-arrow",className:"icon"})}),d("div",{className:e("Carousel-rightArrow"),onClick:this.next,children:d(O,{icon:"right-arrow",className:"icon"})})]})},n.prototype.handleMouseEnter=function(){var e=this.props.multiple;e&&e.count>1||this.clearAutoTimeout()},n.prototype.handleMouseLeave=function(){var e=this.props.multiple;e&&e.count>1||this.prepareAutoSlide()},n.prototype.getNewOptions=function(e,r){r===void 0&&(r=1);var t=e;if(Array.isArray(e)&&e.length){t=new Array(e.length);for(var i=0;i<e.length;i++){t[i]=new Array(r);for(var a=0;a<r;a++)t[i][a]=e[(i+a)%e.length]}}return t},n.prototype.getEventScreenXY=function(e){var r,t,i,a,s,l,u,f;return e.screenX!==void 0?(u=e.screenX,f=e.screenY):!((r=e.touches)===null||r===void 0)&&r.length?(u=(t=e.touches[0])===null||t===void 0?void 0:t.screenX,f=(i=e.touches[0])===null||i===void 0?void 0:i.screenY):!((a=e.changedTouches)===null||a===void 0)&&a.length&&(u=(s=e.changedTouches[0])===null||s===void 0?void 0:s.screenX,f=(l=e.changedTouches[0])===null||l===void 0?void 0:l.screenY),{screenX:u,screenY:f}},n.prototype.addMouseDownListener=function(e){var r=this.props.direction,t=this.getEventScreenXY(e),i=t.screenX,a=t.screenY,s=r==="vertical"?a:i;s!==void 0&&this.setState({mouseStartLocation:s})},n.prototype.addMouseUpListener=function(e){var r=this.getEventScreenXY(e),t=r.screenX,i=r.screenY,a=this.props.direction,s=a==="vertical"?i:t;this.state.mouseStartLocation!==null&&s!==void 0&&(s-this.state.mouseStartLocation>ee?this.autoSlide("prev"):this.state.mouseStartLocation-s>ee&&this.autoSlide(),this.setState({mouseStartLocation:null}))},n.prototype.render=function(){var e,r=this,t=this.props,i=t.render,a=t.className,s=t.style,l=t.classnames,u=t.itemSchema,f=t.animation,A=t.width,L=t.height,G=t.controls,re=t.controlsTheme,ne=t.placeholder,ie=t.data,oe=t.name,C=t.duration,T=t.multiple,ae=t.alwaysShowArrow,g=t.icons,E=t.id,W=t.wrapperCustomStyle,se=t.env,_=t.themeCss,X=this.state,S=X.options,B=X.current,le=X.nextAnimation,D=null,M=s?v({},s):{};A&&(isNaN(Number(A))?M.width=A:M.width=A+"px"),L&&(isNaN(Number(L))?M.height=L:M.height=L+"px");var q=we([G.indexOf("dots")>-1,G.indexOf("arrows")>-1],2),de=q[0],J=q[1],k=le||f;if(Array.isArray(S)&&S.length){var p=1;T&&typeof T.count=="number"&&T.count>=2&&(p=Math.floor(T.count)<S.length?Math.floor(T.count):S.length);var ue=this.getNewOptions(S,p),pe=p>1&&typeof C=="number"?"".concat(C,"ms"):C||"500ms",ce=p>1&&typeof C=="number"?C:500;D=d("div",{ref:this.wrapperRef,className:l("Carousel-container"),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:S.map(function(he,Y){return d(Se,{mountOnEnter:!0,unmountOnExit:!0,in:Y===B,timeout:ce,children:function(w){var x;w===R&&r.wrapperRef.current&&r.wrapperRef.current.childNodes.forEach(function(y){return y.offsetHeight}),p>1&&((w===R||w===V)&&!r.loading?r.loading=!0:(w===P||w===Q)&&r.loading&&(r.loading=!1));var me=(x={},x[R]=0,x[P]=0,x[V]=k==="slideRight"?100/p:-100/p,x[Q]=k==="slideRight"?-100/p:100/p,x),ve=p>1?v({transitionTimingFunction:"linear",transitionDuration:pe},f==="slide"?{transform:"translateX(".concat(me[w],"%)")}:{}):{},K=function(y){var N,Z=y.itemSchema,fe=Ee(y,["itemSchema"]);return i("".concat(B,"/body"),Z||u?Z||u:_e,{thumbMode:r.props.thumbMode,data:j(ie,Me(y)?fe:(N={item:y},N[oe]=y,N))})};return H("div",{className:l("Carousel-item",k,Le[w]),style:ve,children:[p===1?K(he):null,p>1?ue[Y].map(function(y,N){return d("div",{style:{width:100/p+"%",height:"100%",float:"left"},children:K(y)},N)}):null]})}},Y)})})}return H("div",{className:l("Carousel Carousel--".concat(re),(e={},e["Carousel-arrow--always"]=!!ae,e),a,I(v(v({},this.props),{name:"baseControlClassName",id:E,themeCss:_})),I(v(v({},this.props),{name:"wrapperCustomStyle",id:E,themeCss:W})),{"Carousel-vertical":this.props.direction==="vertical"}),onMouseDown:this.props.mouseEvent?this.addMouseDownListener:void 0,onMouseUp:this.props.mouseEvent?this.addMouseUpListener:void 0,onMouseLeave:this.props.mouseEvent?this.addMouseUpListener:void 0,onTouchStart:this.props.mouseEvent?this.addMouseDownListener:void 0,onTouchEnd:this.props.mouseEvent?this.addMouseUpListener:void 0,style:M,children:[D||ne,de?this.renderDots():null,J?d("div",{className:l("Carousel-leftArrow",I(v(v({},this.props),{name:"galleryControlClassName",id:E,themeCss:_}))),onClick:this.prev,children:g&&g.prev?F.isValidElement(g.prev)?g.prev:i("arrow-prev",g.prev):d(O,{icon:"left-arrow",className:"icon",iconContent:"ImageGallery-prevBtn"})}):null,J?d("div",{className:l("Carousel-rightArrow",I(v(v({},this.props),{name:"galleryControlClassName",id:E,themeCss:_}))),onClick:this.next,children:g&&g.next?F.isValidElement(g.next)?g.next:i("arrow-next",g.next):d(O,{icon:"right-arrow",className:"icon",iconContent:"ImageGallery-nextBtn"})}):null,d(xe,{...v({},this.props,{config:{wrapperCustomStyle:W,id:E,themeCss:_,classNames:[{key:"baseControlClassName"},{key:"galleryControlClassName",weights:{default:{suf:" svg",important:!0}}}]},env:se})})]})},n.defaultProps={auto:!0,interval:5e3,duration:500,controlsTheme:"light",animation:"fade",controls:["dots","arrows"],placeholder:"-",multiple:{count:1},alwaysShowArrow:!1},c([m,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],n.prototype,"prepareAutoSlide",null),c([m,o("design:type",Function),o("design:paramtypes",[String]),o("design:returntype",void 0)],n.prototype,"autoSlide",null),c([m,o("design:type",Function),o("design:paramtypes",[String,String]),o("design:returntype",Promise)],n.prototype,"transitFramesTowards",null),c([m,o("design:type",Function),o("design:paramtypes",[String]),o("design:returntype",void 0)],n.prototype,"getFrameId",null),c([m,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],n.prototype,"next",null),c([m,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],n.prototype,"prev",null),c([m,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],n.prototype,"clearAutoTimeout",null),c([m,o("design:type",Function),o("design:paramtypes",[Number]),o("design:returntype",Promise)],n.prototype,"changeSlide",null),c([m,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],n.prototype,"handleMouseEnter",null),c([m,o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],n.prototype,"handleMouseLeave",null),c([m,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],n.prototype,"addMouseDownListener",null),c([m,o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",void 0)],n.prototype,"addMouseUpListener",null),n}(F.Component),Ie=function(h){te(n,h);function n(e,r){var t=h.call(this,e)||this,i=r;return i.registerComponent(t),t}return n.prototype.componentWillUnmount=function(){var e;(e=h.prototype.componentWillUnmount)===null||e===void 0||e.call(this);var r=this.context;r.unRegisterComponent(this)},n.contextType=Ce,n=c([Te({type:"carousel"}),o("design:paramtypes",[Object,Object])],n),n}(Fe);export{Fe as Carousel,Ie as CarouselRenderer};

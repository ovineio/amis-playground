import{a as x,j as G,k as H,r as T,D as z,R as s,E as S,I as N,G as J,J as K,K as L,e as d,M as Q,N as W,O as U,P as q,T as X,Q as _,n as Y,U as Z,f as ee,h as te}from"./index-a49b480c.js";var oe=function(m){x(n,m);function n(e){var t=m.call(this,e)||this;return t.state={isOpened:!1},t.open=t.open.bind(t),t.close=t.close.bind(t),t.toogle=t.toogle.bind(t),t.keepOpen=t.keepOpen.bind(t),t.domRef=t.domRef.bind(t),t}return n.prototype.componentDidMount=function(){this.props.defaultIsOpened&&this.setState({isOpened:!0})},n.prototype.domRef=function(e){this.target=e},n.prototype.toogle=function(e){e.preventDefault(),e.stopPropagation(),this.setState({isOpened:!this.state.isOpened})},n.prototype.open=function(){return G(this,void 0,void 0,function(){var e,t,o,l,a,c,i;return H(this,function(r){switch(r.label){case 0:return e=this.props,t=e.dispatchEvent,o=e.data,l=e.buttons,a=e.disabled,c=e.btnDisabled,a||c?[2]:(i=typeof l=="string"?T(l,o,"| raw"):l,[4,t("mouseenter",z(o,{items:i}))]);case 1:return r.sent(),this.setState({isOpened:!0}),[2]}})})},n.prototype.close=function(e){var t=this,o,l,a=this.props,c=a.buttons,i=a.data,r=typeof c=="string"?T(c,i,"| raw"):c;this.timer=setTimeout(function(){t.props.dispatchEvent("mouseleave",z(t.props.data,{items:r})),t.setState({isOpened:!1})},200),!((l=(o=e==null?void 0:e.target)===null||o===void 0?void 0:o.getAttribute)===null||l===void 0)&&l.call(o,"download")||e&&e.preventDefault()},n.prototype.keepOpen=function(){this.timer&&clearTimeout(this.timer)},n.prototype.renderButton=function(e,t){var o,l=this,a=this.props,c=a.render,i=a.classnames,r=a.data,h=a.ignoreConfirm,u=a.testIdBuilder;return t=typeof t=="number"?t.toString():t,typeof e!="string"&&Array.isArray(e==null?void 0:e.children)?s.createElement("div",{key:t,className:i("DropDown-menu",{"is-mobile":S()})},s.createElement("li",{key:"".concat(t,"/0"),className:i("DropDown-groupTitle")},e.icon?s.createElement(N,{cx:i,icon:e.icon,className:"m-r-xs"}):null,s.createElement("span",null,e.label)),e.children.map(function(v,f){return l.renderButton(v,"".concat(t,"/").concat(f+1))})):typeof e!="string"&&!J(e,r)?null:e==="divider"||e.type==="divider"?s.createElement("li",{key:t,className:i("DropDown-divider")}):s.createElement("li",{key:t,className:i("DropDown-button",(o={},o["is-disabled"]=K(e,r),o),typeof e.level>"u"?"":e.level?"Button--".concat(e.level):"",L(e.className,r))},c("button/".concat(t),d(d({type:"button"},e),{className:"",testIdBuilder:u==null?void 0:u.getChild(e.label||t,r)}),{isMenuItem:!0,ignoreConfirm:h}))},n.prototype.renderOuter=function(){var e=this,t,o=this.props,l=o.render,a=o.buttons,c=o.data,i=o.popOverContainer,r=o.classnames,h=o.classPrefix,u=o.children,v=o.body;o.align;var f=o.closeOnClick,E=o.closeOnOutside,g=o.menuClassName,y=o.overlayPlacement,B=o.trigger,C=typeof a=="string"?T(a,c,"| raw"):a,D=s.createElement(Q,{disabled:!this.state.isOpened,onRootClose:E!==!1?this.close:W},function(p){return s.createElement("ul",{className:r("DropDown-menu-root","DropDown-menu",{"is-mobile":S()},g),onClick:f?e.close:W,onMouseEnter:e.keepOpen,ref:p},u||(v?l("body",v):Array.isArray(C)?C.map(function(k,R){return e.renderButton(k,R)}):null))});return i?s.createElement(U,{container:i,target:function(){return e.target},placement:y,show:!0},s.createElement(q,{overlay:B!=="hover",onHide:this.close,classPrefix:h,className:r("DropDown-popover",g),style:{minWidth:(t=this.target)===null||t===void 0?void 0:t.offsetWidth}},D)):D},n.prototype.render=function(){var e=this.props,t=e.tooltip,o=e.placement,l=e.tooltipContainer,a=e.tooltipTrigger,c=e.tooltipRootClose,i=e.disabledTip,r=e.block,h=e.disabled,u=e.btnDisabled,v=e.btnClassName,f=e.size,E=f===void 0?"default":f,g=e.label,y=e.level,B=e.primary,C=e.className,D=e.style,p=e.classnames,k=e.align,R=e.iconOnly,V=e.icon,P=e.rightIcon,$=e.isActived,A=e.trigger,M=e.data,F=e.hideCaret,O=e.env,I=e.testIdBuilder,b=e.id,j=e.wrapperCustomStyle,w=e.themeCss;return s.createElement("div",{className:p("DropDown ",{"DropDown--block":r,"DropDown--alignRight":k==="right","is-opened":this.state.isOpened,"is-actived":$,"is-mobile":S()},C),style:D,onMouseEnter:A==="hover"?this.open:function(){},onMouseLeave:A==="hover"?this.close:function(){},ref:this.domRef},s.createElement(X,{placement:o,tooltip:h?i:t,container:l||(O==null?void 0:O.getModalContainer),trigger:a,rootClose:c},s.createElement("button",d({onClick:this.toogle,disabled:h||u},I==null?void 0:I.getTestId(M),{className:p("Button",v,typeof y>"u"?"Button--default":y?"Button--".concat(y):"",{"Button--block":r,"Button--primary":B,"Button--iconOnly":R},"Button--size-".concat(E),_(d(d({},this.props),{name:"wrapperCustomStyle",id:b,themeCss:j})),_(d(d({},this.props),{name:"className",id:b,themeCss:w})))}),s.createElement(N,{c:p,icon:V,className:p("icon m-r-xs",_(d(d({},this.props),{name:"iconClassName",id:b,themeCss:w})))}),typeof g=="string"?Y(g,M):g,P&&s.createElement(N,{cx:p,icon:P,className:p("icon m-l-xs",_(d(d({},this.props),{name:"iconClassName",id:b,themeCss:w})))}),F?null:s.createElement("span",{className:p("DropDown-caret")},s.createElement(N,{icon:"right-arrow-bold",className:"icon"})))),this.state.isOpened?this.renderOuter():null,s.createElement(Z,d({},this.props,{config:{themeCss:w,classNames:[{key:"className",weights:{hover:{suf:":not(:disabled):not(.is-disabled)"},active:{suf:":not(:disabled):not(.is-disabled)"}}},{key:"iconClassName",weights:{default:{important:!0},hover:{important:!0,suf:":not(:disabled):not(.is-disabled)"},active:{important:!0,suf:":not(:disabled):not(.is-disabled)"}}}],wrapperCustomStyle:j,id:b},env:O})))},n.defaultProps={placement:"top",tooltipTrigger:["hover","focus"],tooltipRootClose:!1,overlayPlacement:"auto"},n}(s.Component),ne=function(m){x(n,m);function n(){return m!==null&&m.apply(this,arguments)||this}return n=ee([te({type:"dropdown-button"})],n),n}(oe);export{ne as DropDownButtonRenderer,oe as default};

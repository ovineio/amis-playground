import{a as O,aq as F,j as n,d as D,E as S,n as T,e as I,a_ as R,q as L,R as j,b9 as k}from"./index-26b02238.js";var q=function(h){O(t,h);function t(){return h!==null&&h.apply(this,arguments)||this}return t.prototype.doAction=function(a,e,o){var b,d,c=this.props,C=c.resetValue,l=c.onChange,u=c.formStore,v=c.store,g=c.name,r=a==null?void 0:a.actionType;if(r==="clear")l==null||l("");else if(r==="reset"){var s=(d=F((b=u==null?void 0:u.pristine)!==null&&b!==void 0?b:v==null?void 0:v.pristine,g))!==null&&d!==void 0?d:C;l==null||l(s??"")}},t.prototype.handleDBClick=function(a,e){this.props.onToggle(a,!1,!0),this.props.onAction(null,{type:"submit"})},t.prototype.handleClick=function(a,e){if(!(e.target&&e.target.closest("a,button"))){var o=this.props.onToggle;o(a)}},t.prototype.reload=function(){var a=this.props.reloadOptions;a&&a()},t.prototype.renderStatic=function(a){a===void 0&&(a="-");var e=this.props,o=e.itemSchema,b=e.labelField;e.valueField;var d=e.imageClassName,c=e.itemClassName,C=e.selectedOptions,l=e.classnames,u=e.render,v=e.data;if(!C.length)return a;var g=function(r,s){var m=r[b||"label"];return m=m||"选项".concat(s+1),o||r.body||r.image?n("div",{className:l("ListControl-static-item",c),children:o?u("".concat(s,"/body"),o,{data:S(v,r)}):r.body?u("".concat(s,"/body"),r.body):[r.image?n("div",{className:l("ListControl-itemImage",d),children:n("img",{src:r.image,alt:m})},"image"):null,n("div",{className:l("ListControl-itemLabel"),children:m},"label")]},s):n("div",{className:l("ListControl-static-item"),children:m},s)};return n("div",{className:l("StaticList"),children:C.map(g)})},t.prototype.render=function(){var a=this,e=this.props,o=e.render,b=e.itemClassName,d=e.classnames,c=e.className;e.style;var C=e.disabled,l=e.options,u=e.placeholder,v=e.selectedOptions,g=e.imageClassName,r=e.submitOnDBClick,s=e.itemSchema,m=e.activeItemSchema,_=e.data,f=e.labelField,x=e.listClassName,B=e.translate,N=e.testIdBuilder,y=null;return l&&l.length&&(y=n("div",{className:d("ListControl-items",x),children:l.map(function(i,p){return n("div",{...D({key:p,className:d("ListControl-item",b,{"is-active":~v.indexOf(i),"is-disabled":i.disabled||C,"is-custom":!!s}),onClick:a.handleClick.bind(a,i),onDoubleClick:r?a.handleDBClick.bind(a,i):void 0},N==null?void 0:N.getChild("options-".concat(i.value||p)).getTestId()),children:s?o("".concat(p,"/body"),~v.indexOf(i)?m??s:s,{data:S(_,i)}):i.body?o("".concat(p,"/body"),i.body):[i.image?n("div",{className:d("ListControl-itemImage",g),children:n("img",{src:i.image,alt:i[f||"label"]})},"image"):null,i[f||"label"]?n("div",{className:d("ListControl-itemLabel"),children:T(String(i[f||"label"]),_)},"label"):null]})})})),n("div",{className:d("ListControl",c),children:y||n("span",{className:d("ListControl-placeholder"),children:B(u)})})},t.propsList=["itemSchema","value","renderFormItems"],t.defaultProps={clearable:!1,imageClassName:"",submitOnDBClick:!1},I([R(),L("design:type",Function),L("design:paramtypes",[]),L("design:returntype",void 0)],t.prototype,"render",null),t}(j.Component),E=function(h){O(t,h);function t(){return h!==null&&h.apply(this,arguments)||this}return t=I([k({type:"list-select",sizeMutable:!1})],t),t}(q);export{E as ListControlRenderer,q as default};

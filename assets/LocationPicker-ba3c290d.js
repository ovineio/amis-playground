import{a as b,R as m,h as w,k as F,aq as L,j as c,F as f,G as C,l as R,bG as T,n as _,bH as P,d as E,e as d,p as u,q as n,a_ as O,C as j,Y as x}from"./index-26b02238.js";var G=function(l){b(e,l);function e(){var t=l!==null&&l.apply(this,arguments)||this;return t.domRef=m.createRef(),t.state={isOpened:!1},t}return e.prototype.close=function(){this.setState({isOpened:!1})},e.prototype.open=function(){this.setState({isOpened:!0})},e.prototype.handleClick=function(){this.state.isOpened?this.close():this.open()},e.prototype.handleChange=function(t){return w(this,void 0,void 0,function(){var o,s,r,a;return F(this,function(i){switch(i.label){case 0:return o=this.props,s=o.dispatchEvent,r=o.onChange,[4,s("change",x(this.props,{value:t}))];case 1:return a=i.sent(),a!=null&&a.prevented?[2]:(r(t),[2])}})})},e.prototype.getParent=function(){var t;return(t=this.domRef.current)===null||t===void 0?void 0:t.parentElement},e.prototype.getTarget=function(){return this.domRef.current},e.prototype.doAction=function(t,o,s){var r,a,i,p=this.props,v=p.resetValue,h=p.onChange,y=p.formStore,g=p.store,k=p.name,S=t==null?void 0:t.actionType;switch(S){case"clear":h("");break;case"reset":h==null||h((i=(a=L((r=y==null?void 0:y.pristine)!==null&&r!==void 0?r:g==null?void 0:g.pristine,k))!==null&&a!==void 0?a:v)!==null&&i!==void 0?i:"");break}},e.prototype.renderStatic=function(t){t===void 0&&(t="-");var o=this.props;o.classnames;var s=o.value,r=o.staticSchema,a=o.ak,i=o.coordinatesType,p=o.hideViewControl,v=p===void 0?!1:p;return this.props.translate,s?c("div",{className:this.props.classnames("LocationControl",{"is-mobile":C()}),ref:this.domRef,children:r!=null&&r.embed?R(f,{children:[r.showAddress===!1?null:c("div",{className:"mb-2",children:s.address}),c(T,{ak:a,value:s,coordinatesType:i,autoSelectCurrentLoc:!1,onlySelectCurrentLoc:!0,showSug:!1,showGeoLoc:r.showGeoLoc,mapStyle:r.mapStyle,hideViewControl:v})]}):c("span",{children:s.address})}):c(f,{children:t})},e.prototype.render=function(){var t=this.props;t.style;var o=t.env;return _(this.props.ak,this.props.data)||o.locationPickerAK,c("div",{className:this.props.classnames("LocationControl",{"is-mobile":C()}),children:c(P,{...E({},this.props,{ak:_(this.props.ak,this.props.data),onChange:this.handleChange})})})},e.defaultProps={vendor:"baidu",coordinatesType:"bd09"},d([u,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"close",null),d([u,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"open",null),d([u,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"handleClick",null),d([u,n("design:type",Function),n("design:paramtypes",[Object]),n("design:returntype",Promise)],e.prototype,"handleChange",null),d([u,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"getParent",null),d([u,n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"getTarget",null),d([O(),n("design:type",Function),n("design:paramtypes",[]),n("design:returntype",void 0)],e.prototype,"render",null),e}(m.Component),A=function(l){b(e,l);function e(){return l!==null&&l.apply(this,arguments)||this}return e=d([j({type:"location-picker"})],e),e}(G);export{G as LocationControl,A as LocationRenderer};

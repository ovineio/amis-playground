import{a as h,a3 as N,ai as d,Z as R,n as i,E,j as F,d9 as j,e as g,p as D,q as u,R as S,s as V,f as W}from"./index-26b02238.js";var c=["name","value","data","defaultValue"],k=function(l){h(a,l);function a(e){var t=l.call(this,e)||this;return t.state={value:t.getValue()},t}return a.prototype.componentDidUpdate=function(e){N(d(e,c),d(this.props,c))||this.setState({value:this.getValue()})},a.prototype.getValue=function(){var e=R(this.props);return e=typeof e=="number"?e:i(e,this.props.data),/^\d*\.?\d+$/.test(e)&&(e=parseFloat(e)),e},a.prototype.format=function(e){var t=this.props,r=t.valueTpl,n=t.render,p=t.data;return n("progress-value",r||"${value}%",{data:E(p,{value:e})})},a.prototype.render=function(){var e=this.props,t=e.data,r=e.mode,n=e.className,p=e.style,v=e.placeholder,f=e.progressClassName,m=e.map,y=e.stripe,b=e.animate,T=e.showLabel,P=e.strokeWidth,_=e.gapDegree,C=e.gapPosition;e.classnames;var s=e.threshold,w=e.showThresholdText,x=this.state.value;return s&&(Array.isArray(s)?s.forEach(function(o){o.value=typeof o.value=="string"?i(o.value,t):o.value,o.color&&(o.color=i(o.color,t))}):(s.value=i(s.value,t),s.color&&(s.color=i(s.color,t)))),F(j,{value:x,type:r,map:m,stripe:y,animate:b,showLabel:T,placeholder:v,format:this.format,strokeWidth:P,gapDegree:_,gapPosition:C,className:n,style:p,progressClassName:f,threshold:s,showThresholdText:w})},a.defaultProps={placeholder:"-",progressClassName:"",progressBarClassName:"",map:["bg-danger","bg-warning","bg-info","bg-success","bg-success"],valueTpl:"${value}%",showLabel:!0,stripe:!1,animate:!1},g([D,u("design:type",Function),u("design:paramtypes",[Number]),u("design:returntype",void 0)],a.prototype,"format",null),a}(S.Component),L=function(l){h(a,l);function a(e,t){var r=l.call(this,e)||this,n=t;return n.registerComponent(r),r}return a.prototype.componentWillUnmount=function(){var e;(e=l.prototype.componentWillUnmount)===null||e===void 0||e.call(this);var t=this.context;t.unRegisterComponent(this)},a.prototype.doAction=function(e,t,r,n){var p=e==null?void 0:e.actionType;p==="reset"&&this.setState({value:0})},a.prototype.setData=function(e){(typeof e=="number"||typeof+e=="number")&&this.setState({value:+e})},a.contextType=V,a=g([W({type:"progress"}),u("design:paramtypes",[Object,Object])],a),a}(k);export{k as ProgressField,L as ProgressFieldRenderer};

import{a as x,h as b,k as S,a5 as C,j as c,I as _,l as V,F as T,aq as R,bA as B,e as m,p as I,q as p,a_ as N,R as j,C as A,Y as E}from"./index-26b02238.js";var F=function(d){x(o,d);function o(){return d!==null&&d.apply(this,arguments)||this}return o.prototype.handleChange=function(e){return b(this,void 0,void 0,function(){var r,i,n,t;return S(this,function(a){switch(a.label){case 0:return r=this.props,i=r.dispatchEvent,n=r.onChange,[4,i("change",E(this.props,{value:e}))];case 1:return t=a.sent(),t!=null&&t.prevented?[2]:(n&&n(e),[2])}})})},o.prototype.getResult=function(){var e=this.props,r=e.classnames,i=e.render,n=e.onText,t=e.offText,a=n,s=t;return C(n)&&n.icon&&!n.type?a=c(_,{cx:r,icon:n.icon,className:"Switch-icon"}):n!=null&&typeof n!="string"&&(a=i("switch-on-text",n)),C(t)&&t.icon&&!t.type?s=c(_,{cx:r,icon:t.icon,className:"Switch-icon"}):t!=null&&typeof t!="string"&&(s=i("switch-off-text",t)),{on:a,off:s}},o.prototype.renderBody=function(e){var r=this.props,i=r.classnames,n=r.option,t=r.optionAtLeft,a=c("span",{className:i("Switch-option"),children:n});return V(T,{children:[t?a:null,e,t?null:a]})},o.prototype.renderStatic=function(){var e=this.props,r=e.value,i=e.trueValue,n=this.getResult(),t=n.on,a=t===void 0?"开":t,s=n.off,u=s===void 0?"关":s,l=c("span",{children:r===i?a:u});return this.renderBody(l)},o.prototype.doAction=function(e,r,i,n){var t,a,s=e==null?void 0:e.actionType,u=this.props,l=u.onChange,f=u.formStore,h=u.store,g=u.name,v=u.resetValue;if(s==="clear")l==null||l("");else if(s==="reset"){var y=(a=R((t=f==null?void 0:f.pristine)!==null&&t!==void 0?t:h==null?void 0:h.pristine,g))!==null&&a!==void 0?a:v;l==null||l(y)}},o.prototype.render=function(){var e=this.props,r=e.size,i=e.className;e.style;var n=e.classPrefix,t=e.classnames,a=e.value,s=e.trueValue,u=e.falseValue;e.onChange;var l=e.disabled,f=e.loading,h=e.loadingConfig,g=e.testIdBuilder,v=this.getResult(),y=v.on,w=v.off;return c("div",{className:t("SwitchControl",i),children:this.renderBody(c(B,{classPrefix:n,value:a,trueValue:s,falseValue:u,onText:y,offText:w,disabled:l,onChange:this.handleChange,size:r,loading:f,loadingConfig:h,testIdBuilder:g}))})},o.defaultProps={trueValue:!0,falseValue:!1,optionAtLeft:!1},m([I,p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",Promise)],o.prototype,"handleChange",null),m([N(),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",void 0)],o.prototype,"render",null),o}(j.Component),P=function(d){x(o,d);function o(){return d!==null&&d.apply(this,arguments)||this}return o=m([A({type:"switch",sizeMutable:!1,thin:!0})],o),o}(F);export{P as SwitchControlRenderer,F as default};
